# client.py
import asyncio
import websockets
import json

async def client():
    async with websockets.connect("ws://localhost:8765") as websocket:
        print("Client connected!")
        while True:
            query = input("Enter task (e.g., 'math 5+7' or 'info earth'): ")
            msg = {
                "sender": "Client",
                "type": "task",
                "content": query
            }
            await websocket.send(json.dumps(msg))
            # Wait for response
            resp = await websocket.recv()
            data = json.loads(resp)
            print(f"{data['sender']} says: {data['content']}")

asyncio.run(client())
